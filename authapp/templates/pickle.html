{% load static %}
{% csrf_token %}
<html>

<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/PrintArea/2.4.1/PrintArea.css"
    integrity="sha512-4hufni74YXhS+9wxYTyC9ykJu65BGFw1L+Rweywuu+K12kCFWtoq/bjvjw2XJv2Q5WZivKJd22gv1EFIiUExpw=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <title>Diabetes Prediction</title>

  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css">
  <style>
    @import url('https://fonts.googleapis.com/css?family=Ubuntu');

    * {
      margin: 0;
      padding: 0;
      font-family: 'Ubuntu', sans-serif;
    }

    .repo {
      color: red
    }

    a {
      color: white;
      text-decoration: underline;
    }

    body {
      background: rgb(236, 230, 230);
    }
    

    p {
      color: rgb(67, 31, 31);
      text-size-adjust: 10px;
    }

    .contact-us {
      width: 400px;
      background: #fff;
      padding: 50px;
      margin: 150px auto;
      border-radius: 30px;
      position: relative;
      margin-top: 80px
    }

    .nav-link {
      display: block;
      padding: .5rem 1rem;
      color: white;
      text-decoration: none;
      transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out;
    }

    .btn {
      background: black;
      text-align: center;
      color: #fff;
      padding: 12px;
      border-radius: 25px;
      cursor: pointer;
    }

    .title h1 {
      color: #535274;
      letter-spacing: 5px;
      margin-bottom: 25px;
      text-align: center;
    }


    .form-items .input {
      width: 100%;
      margin-bottom: 12px;
      padding: 15px 40px;
      box-sizing: border-box;
      background: #ebeef1;
      border: 0px;
      outline: none;
      border-radius: 30px;
    }



    .btn {
      background: #827ffe;
      text-align: center;
      color: #fff;
      padding: 12px;
      border-radius: 25px;
      cursor: pointer;
    }

    .btn .fas {
      margin-left: 10px;
      font-size: 12px;
    }



    .social-icons {
      position: absolute;
      bottom: -25px;
      left: 50%;
      width: 200px;
      transform: translateX(-50%);
      display: flex;
      justify-content: space-around;
    }

    .social-icons div {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      position: relative;
      cursor: pointer;
    }


    .social-icons div .fab {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: #fff;
    }

    .social-icons div.facebook {
      background: #5178d9;
    }

    .social-icons div.twitter {
      background: #41caf6;
    }

    .social-icons div.google {
      background: #fb4f4f;
    }
  </style>




  {% comment %} $("#Age").change(function()
  {

  var Pregnancies=document.form1.Pregnancies.value;
  var Glucose=document.form1.Glucose.value;
  var BloodPressure=document.form1.BloodPressure.value;
  var SkinThickness=document.form1.SkinThickness.value;
  var Insulin=document.form1.Insulin.value;
  var BMI=document.form1.BMI.value;
  var DiabetesPedigreeFunction=document.form1.DiabetesPedigreeFunction.value;
  var Age=document.form1.Age.value;

  if ((Pregnancies==null || Pregnancies=="")&&(Glucose==null || Glucose=="")&&(BloodPressure==null ||
  BloodPressure=="")&& (SkinThickness==null || SkinThickness=="")&&(Insulin==null || Insulin=="") && (BMI==null ||
  BMI=="")&& (DiabetesPedigreeFunction==null || DiabetesPedigreeFunction==""))
  {
  $("#submit").prop('disabled', false);

  }
  }) {% endcomment %}

  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
</head>

<body>
  <div class="row">
    <div class="col-4"></div>
    <div class="col-4">
      <div class="card mt-5">
        <div class="card-body">
          <h6>Do You Have These symptoms.?</h6>
          <ul class="list-group">
            <li class="list-group-item ">Urinate (pee) a lot, often at night</li>
            <li class="list-group-item">Are very thirsty.</li>
            <li class="list-group-item">Lose weight without trying.</li>
            <li class="list-group-item">Are very hungry.</li>
            <li class="list-group-item">Have blurry vision.</li>
          </ul>
        </div>
      </div>
    </div>

  </div>


  <div class="contact-us">
    <div class="title">
      <h1>Diabetes Diagnosis</h1>
    </div>

    <div class="form">
      <form id="form1" name="form1" method="post" , action="/diabetes_pre/">

        <div class="form-items">
          <input type="text" class="input" name="Pregnancies" id="Pregnancies" placeholder="Pregnancies" max="17"
            min="0">
        </div>
        <div class="form-items">
          <input type="text" class="input" name="Glucose" id="Glucose" placeholder="Glucose" max="199" min="0">
        </div>
        <div class="form-items">
          <input type="text" class="input" name="BloodPressure" id="BloodPressure" placeholder="BloodPressure" max="122"
            min="0">
        </div>
        <div class="form-items">
          <input type="hidden" class="input" name="SkinThickness" value="10" id="SkinThickness"
            placeholder="SkinThickness">
        </div>
        <div class="form-items">
          <input type="text" class="input" name="Insulin" id="Insulin" placeholder="Insulin" max="846" min="0">
        </div>
        <div class="form-items">
          <input type="text" class="input" name="BMI" id="BMI" placeholder="BMI" max="67.1" min="0">
        </div>
        <div class="form-items">
          <input type="text" class="input" name="DiabetesPedigreeFunction" id="DiabetesPedigreeFunction"
            placeholder="DiabetesPedigreeFunction" max="2.42" min="0.078">
        </div>
        <div class="form-items">
          <input type="text" class="input" name="Age" id="Age" placeholder="Age" max="81" min="21">
        </div>
    </div>
    <div align="center">
      <button type="submit" form="form1" name="submitBtn" value="Submit" id="submitBtn" class="btn">Submit<i
          class="fas fa-arrow-right"> </i>
      </button>

      <button type="reset" form="form1" value="reset" class="btn">Clear<i class="fas fa-arrow-right"> </i>
      </button><br><br><br>
      <button class="btn btn-btn-danger"><a class="nav-link" href="/home">Back<i class="fas fa-arrow-right"></i></a></button>
      <button class="btn btn-btn-danger"><a class="nav-link" href="/logout">Logout<i class="fas fa-arrow-right"></i></a></button>

    </div>
    <br>
    <br>
    <br>
    <br>


    <!-- Button trigger modal -->
    <button type="button" id="showresult" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
      Launch demo modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            {% comment %} <h5 class="modal-title" id="exampleModalLabel">Modal title</h5> {% endcomment %}
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="card">
              <div class="card-body">
                <center>
                  <h1 color="red" id="result"><span id="result12"></span><span id="resultdata">{{ result }}</span></h1>
                </center>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" id="close" class="btn btn-secondary" data-dismiss="modal">Close</button>
            {% comment %} <button type="button" class="btn btn-primary">Save changes</button> {% endcomment %}
            <a id="print" class="btn btn-primary" data-dismiss="modal" onclick="printSection('section2')">Print</a>
          </div>
        </div>
      </div>
    </div>

    <!-- <footer class="mt-5">
       <div class="row">
        <div class="col-3">

        </div>
        <div class="col-4">
          <button class="btn btn-btn-danger"><a class="nav-link" href="/logout">Logout</a></button>
        </div>
      </div> 

    </footer> -->


    <div id="section2">
      <center>
        <h3>Report</h3>
      </center>
      <div class="card">
        <div class="card-body">
          <div class="container">
            <div class="row">
              <div class="col-2"></div>
              <div class="col-10"><b>Name of Patient: </b>{{user}}</div>
              <br>
              <div class="col-2"></div>
              <div class="col-6 repo">Pregnancies</div>
              <div class="col-3" id="Pregnancies1">{{pregnancies}}</div>
              <div class="col-2"></div>
              <div class="col-6 repo">Glucose</div>
              <div class="col-3" id="Glucose1">{{glucose}}</div>
              <div class="col-2"></div>
              <div class="col-6 repo">BloodPressure</div>
              <div class="col-3" id="BloodPressure1">{{bloodpressure}}</div>
              <div class="col-2"></div>
              <div class="col-6 repo">SkinThickness</div>
              <div class="col-3" id="SkinThickness1">{{skinthickness}}</div>
              <div class="col-2"></div>
              <div class="col-6 repo">Insulin</div>
              <div class="col-3" id="Insulin1">{{insulin}}</div>
              <div class="col-2"></div>
              <div class="col-6 repo">BMI</div>
              <div class="col-3" id="BMI1">{{BMI}}</div>
              <div class="col-2"></div>
              <div class="col-6 repo">DiabetesPedigreeFunction</div>
              <div class="col-3" id="DiabetesPedigreeFunction1">{{DiabetesPedigreeFunction}}</div>
              <div class="col-2"></div>
              <div class="col-6 repo">Age</div>
              <div class="col-4" id="Age1">{{age}}</div>
              <br>
              <div class="col-2 mt-5"></div><b class="col-10" id="hereisresult"></b>

              <div class="col-4"></div>
              <div class="col-6">
                <b style="color:red">For More Details</b><br>
                Contact-98136 43774(Kathmandu Diabetes and Throid Center)
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/4.4.0/bootbox.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PrintArea/2.4.1/jquery.PrintArea.min.js"
      integrity="sha512-mPA/BA22QPGx1iuaMpZdSsXVsHUTr9OisxHDtdsYj73eDGWG2bTSTLTUOb4TG40JvUyjoTcLF+2srfRchwbodg=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery.print/1.6.2/jQuery.print.min.js"
      integrity="sha512-t3XNbzH2GEXeT9juLjifw/5ejswnjWWMMDxsdCg4+MmvrM+MwqGhxlWeFJ53xN/SBHPDnW0gXYvBx/afZZfGMQ=="
      crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"
      integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.11.1/jquery.validate.min.js"></script>
    <script>
      $("#showresult").hide();
      $('#section2').hide();

      $("#print").click(function () {
        $(".close").click();
      });
      if ($("#result").text() == "") {
        //$("#exampleModal").hide();
        //$("#section2").hide();

      }
      else {
        if ($("#result").text() == "Not Diabetic") {
          $("#resultdata").hide();
          $("#result12").text("You don't have Diabetic");
          $("#hereisresult").text("You don't have Diabetic");

        }
        else {
          $("#resultdata").hide();
          $("#result12").text("You may have Diabetes")
          $("#hereisresult").text("You may have Diabetes");
        }
        $("#showresult").click();
        //$("#exampleModal").show();
        //$("#section2").show();
      }
      $("#form1").validate({
        rules: {
          Pregnancies: {
            required: true,
            number: true,
          },
          Glucose: {
            required: true,
            number: true
          },
          BloodPressure: {
            required: true,
            number: true
          },
          SkinThickness: {
            required: true,
            number: true
          },
          Insulin: {
            required: true,
            number: true
          },
          BMI: {
            required: true,
            number: true
          },
          DiabetesPedigreeFunction: {
            required: true,
            number: true
          },
          Age: {
            required: true,
            number: true
          }

        }, message: {

        },
        submitHandler: function (form) {
          form.submit();
        }
      }
      )


      {% comment %} $("#submitBtn").click(function () {
        $("#Pregnancies1").text($("#Pregnancies").val());
        $("#Glucose1").text($("#Glucose").val());
        $("#BloodPressure1").text($("#BloodPressure").val());
        $("#SkinThickness1").text($("#SkinThickness").val());
        $("#Insulin1").text($("#Insulin").val());
        $("#BMI1").text($("#BMI").val());
        $("#DiabetesPedigreeFunction1").text($("#DiabetesPedigreeFunction").val());
        $("#Age1").text($("#Age").val());
      }); {% endcomment %}
      $("#section2").hide();

      function printSection(el) {
        //$("#section2").show();
        var getFullContent = document.body.innerHTML;
        var printsection = document.getElementById(el).innerHTML;
        document.body.innerHTML = printsection;
        window.print();
        document.body.innerHTML = getFullContent;
        location.reload();
      }

      {% comment %} $("#submitBtn").click(function () {
        $("#section2").show();
      }) {% endcomment %}


      {% comment %} document.getElementById("submit").disabled = true; {% endcomment %}
      {% comment %} function myFunction() {

        Pregnancies = document.getElementById("Pregnancies").value;
        Glucose = document.getElementById("Glucose").value;
        BloodPressure = document.getElementById("BloodPressure").value;
        SkinThickness = document.getElementById("SkinThickness").value;
        Insulin = document.getElementById("Insulin").value;
        BMI = document.getElementById("BMI").value;
        DiabetesPedigreeFunction = document.getElementById("DiabetesPedigreeFunction").value;
        if (Pregnancies != "" && Glucose != "" && BloodPressure != "" && SkinThickness != "" && Insulin != "" && BMI != "" && DiabetesPedigreeFunction != "") {
          document.getElementById("submit").disabled = false;

        }
      } {% endcomment %}

    </script>
    {% block content %}
    {% endblock %}
</body>

</html>